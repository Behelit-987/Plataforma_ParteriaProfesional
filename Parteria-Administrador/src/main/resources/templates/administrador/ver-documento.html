<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revisar Documento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .sidebar {
            min-height: 100vh;
            background-color: #2c3e50;
        }
        .sidebar a {
            color: white;
            text-decoration: none;
            display: block;
            padding: 10px 15px;
            border-bottom: 1px solid #34495e;
        }
        .sidebar a:hover, .sidebar a.active {
            background-color: #34495e;
        }
        .document-section {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status-badge {
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 20px;
        }
        .document-preview {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
        }
        .document-preview img {
            max-width: 100%;
            max-height: 500px;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .pdf-preview-container {
            width: 100%;
            height: 600px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            overflow: hidden;
        }
        .pdf-preview-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .form-select-status {
            width: 100%;
        }
        .preview-actions {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-2 p-0 sidebar">
                <div class="p-3">
                    <h4 class="text-white">Panel Administrador</h4>
                    <p class="text-white-50 mb-0" th:text="${nombreUsuario}">Usuario</p>
                </div>
                <nav>
                    <a href="/administrador/dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                    <a href="/administrador/parteros"><i class="fas fa-users"></i> Gestión Parteros</a>
                    <a href="/administrador/documentos" class="active"><i class="fas fa-file-alt"></i> Revisión Documentos</a>
                    <a href="/administrador/documentos/todos"><i class="fas fa-list"></i> Todos los Documentos</a>
                    <a href="/administrador/reportes"><i class="fas fa-chart-bar"></i> Reportes</a>
                    <a href="/logout" class="mt-5"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
                </nav>
            </div>
            
            <!-- Main Content -->
            <div class="col-md-10">
                <div class="p-4">
                    <!-- Header -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <h1><i class="fas fa-file-search"></i> Revisar Documento ID: <span th:text="${documento.idPProfesional}"></span></h1>
                        <div>
                            <a href="/administrador/documentos" class="btn btn-outline-secondary">
                                <i class="fas fa-arrow-left"></i> Volver a Documentos
                            </a>
                        </div>
                    </div>
                    
                    <!-- Información del Partero -->
                    <div class="document-section">
                        <h4><i class="fas fa-user-circle"></i> Información del Partero</h4>
                        <div class="row">
                            <div class="col-md-4">
                                <p><strong>ID Partero:</strong> <span th:text="${documento.idPartero}"></span></p>
                                <p><strong>Carpeta:</strong> partero_<span th:text="${documento.idPartero}"></span></p>
                            </div>
                            <div class="col-md-4">
                                <p><strong>Estado General:</strong>
                                    <span th:if="${documento.estadoGeneral.name() == 'pendiente'}" 
                                          class="badge bg-warning">Pendiente</span>
                                    <span th:if="${documento.estadoGeneral.name() == 'en_revision'}" 
                                          class="badge bg-info">En Revisión</span>
                                    <span th:if="${documento.estadoGeneral.name() == 'aprobado'}" 
                                          class="badge bg-success">Aprobado</span>
                                    <span th:if="${documento.estadoGeneral.name() == 'rechazado'}" 
                                          class="badge bg-danger">Rechazado</span>
                                    <span th:if="${documento.estadoGeneral.name() == 'incompleto'}" 
                                          class="badge bg-secondary">Incompleto</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Formulario de Validación -->
                    <form th:action="@{/administrador/documentos/{id}/validar(id=${documento.idPProfesional})}" method="post" class="document-section">
                        <h4><i class="fas fa-clipboard-check"></i> Validación de Documentos</h4>
                        
                        <!-- Título Profesional -->
                        <div class="row mb-3" th:if="${documento.tituloProfesional != null}">
						    <div class="col-md-4">
						        <h5><i class="fas fa-file"></i> Título Profesional</h5>
						        <select name="estadoTitulo" class="form-select form-select-status">
						            <option th:each="estado : ${estadoDocumentos}" 
						                    th:value="${estado}"
						                    th:selected="${documento.estadoTitulo == estado}"
						                    th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
						        </select>
						    </div>
						    <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.tituloProfesional != null and 
						                     documento.tituloProfesional.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.tituloProfesional}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.tituloProfesional}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.tituloProfesional}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
						</div>
                        <!-- Cédula Profesional -->
                        <div class="row mb-3" th:if="${documento.cedulaProfesional != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-id-card"></i> Cédula Profesional</h5>
                                <select name="estadoCedula" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoCedula == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.cedulaProfesional != null and 
						                     documento.cedulaProfesional.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.cedulaProfesional}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.cedulaProfesional}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.cedulaProfesional}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!-- INE -->
                        <div class="row mb-3" th:if="${documento.ine != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> INE</h5>
                                <select name="estadoIne" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoIne == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.ine != null and 
						                     documento.ine.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.ine}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.ine}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.ine}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!--  -->
                        
                        <div class="row mb-3" th:if="${documento.comprobanteDomicilio != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Comprobante de Domicilio</h5>
                                <select name="estadoComprobante" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoComprobante == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.comprobanteDomicilio != null and 
						                     documento.comprobanteDomicilio.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.comprobanteDomicilio}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.comprobanteDomicilio}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.comprobanteDomicilio}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!--  -->
                       
                     	<div class="row mb-3" th:if="${documento.fotografia != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Fotografia</h5>
                                <select name="estadoFotografia" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoFotografia == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
                                <div class="document-preview">
                                    <!-- Mostrar imagen si es JPG/PNG -->
                                    <div th:if="${documento.fotografia != null and 
                                                 (documento.fotografia.toLowerCase().endsWith('.jpg') or 
                                                  documento.fotografia.toLowerCase().endsWith('.jpeg') or
                                                  documento.fotografia.toLowerCase().endsWith('.png') or
                                                  documento.fotografia.toLowerCase().endsWith('.gif'))}">
                                        <img th:src="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.fotografia}}" 
                                             alt="INE" 
                                             class="img-fluid">
                                        <div class="preview-actions">
                                            <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.fotografia}}" 
                                               class="btn btn-sm btn-outline-primary" target="_blank">
                                                <i class="fas fa-expand"></i> Ver en pantalla completa
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     	  
                        <!--  -->
                        <div class="row mb-3" th:if="${documento.cv != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Curriculum Vitae</h5>
                                <select name="estadoCv" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoCv == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.cv != null and 
						                     documento.cv.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.cv}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.cv}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.cv}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        <!--  -->
                        
                        <div class="row mb-3" th:if="${documento.reanimacionNeonatal != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Certificado Reanimacion Neonatal</h5>
                                <select name="estadoReanimacionNeonatal" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoReanimacionNeonatal == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.reanimacionNeonatal != null and 
						                     documento.reanimacionNeonatal.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.reanimacionNeonatal}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.reanimacionNeonatal}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.reanimacionNeonatal}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!--  -->
                        
                        <div class="row mb-3" th:if="${documento.reanimacionAdultos != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Certificado de Reanimacion de Adultos</h5>
                                <select name="estadoReanimacionAdultos" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoReanimacionAdultos == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.reanimacionAdultos != null and 
						                     documento.reanimacionAdultos.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.reanimacionAdultos}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.reanimacionAdultos}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.reanimacionAdultos}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!--  -->
                        
                        <div class="row mb-3" th:if="${documento.urgenciasObstetricas != null}">
                            <div class="col-md-4">
                                <h5><i class="fas fa-address-card"></i> Certificacion de Urgencia Obstetrica</h5>
                                <select name="estadoUrgencias" class="form-select form-select-status">
                                    <option th:each="estado : ${estadoDocumentos}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoUrgencias == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                            <div class="col-md-8">
						        <div class="document-preview d-flex justify-content-center align-items-center" 
						             th:if="${documento.urgenciasObstetricas != null and 
						                     documento.urgenciasObstetricas.toLowerCase().endsWith('.pdf')}">
						            <div class="text-center"> <!-- Contenedor centrado -->
						                <i class="fas fa-file-pdf fa-5x text-danger mb-3"></i>
						                <h5 class="mb-2">Documento PDF</h5>
						                <p class="text-muted mb-4">
						                    <span th:text="${documento.urgenciasObstetricas}"></span>
						                </p>
						                <div class="preview-actions">
						                    <a th:href="@{'/api/documentos/view/' + ${documento.idPartero} + '/' + ${documento.urgenciasObstetricas}}" 
						                       class="btn btn-outline-primary" target="_blank">
						                        <i class="fas fa-external-link-alt"></i> Abrir PDF
						                    </a>
						                    <a th:href="@{'/api/documentos/download/' + ${documento.idPartero} + '/' + ${documento.urgenciasObstetricas}}" 
						                       class="btn btn-outline-success">
						                        <i class="fas fa-download"></i> Descargar
						                    </a>
						                </div>
						            </div>
						        </div>
						    </div>
                        </div>
                        
                        <!-- Estado General -->
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <h5><i class="fas fa-clipboard-list"></i> Estado General del Expediente</h5>
                                <select name="estadoGeneral" class="form-select" required>
                                    <option value="">Seleccionar estado</option>
                                    <option th:each="estado : ${estadosGenerales}" 
                                            th:value="${estado}"
                                            th:selected="${documento.estadoGeneral == estado}"
                                            th:text="${#strings.toUpperCase(#strings.substring(estado.name(), 0, 1)) + #strings.substring(estado.name(), 1)}"></option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Observaciones -->
                        <div class="row mt-3">
                            <div class="col-md-12">
                                <h5><i class="fas fa-comment"></i> Observaciones</h5>
                                <textarea name="observaciones" class="form-control" rows="3" 
                                          placeholder="Ingrese observaciones sobre la validación..."></textarea>
                            </div>
                        </div>
                        
                        <!-- Botones -->
                        <div class="row mt-4">
                            <div class="col-md-12 text-end">
                                <button type="submit" class="btn btn-success btn-lg">
                                    <i class="fas fa-save"></i> Guardar Validación
                                </button>
                                <a href="/administrador/documentos" class="btn btn-secondary btn-lg ms-2">
                                    <i class="fas fa-times"></i> Cancelar
                                </a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Cambiar color del select según el estado
        document.querySelectorAll('.form-select-status').forEach(select => {
            function updateSelectColor() {
                const value = select.value;
                select.classList.remove('border-success', 'border-danger', 'border-warning', 'border-info');
                
                if (value === 'aprobado') {
                    select.classList.add('border-success');
                    select.style.borderWidth = '2px';
                } else if (value === 'rechazado') {
                    select.classList.add('border-danger');
                    select.style.borderWidth = '2px';
                } else if (value === 'pendiente') {
                    select.classList.add('border-warning');
                    select.style.borderWidth = '2px';
                }
            }
            
            select.addEventListener('change', updateSelectColor);
            updateSelectColor(); // Color inicial
        });
        
        // También para el select de estado general
        const estadoGeneralSelect = document.querySelector('select[name="estadoGeneral"]');
        if (estadoGeneralSelect) {
            function updateEstadoGeneralColor() {
                const value = estadoGeneralSelect.value;
                estadoGeneralSelect.classList.remove('border-success', 'border-danger', 'border-warning', 'border-info', 'border-secondary');
                
                if (value === 'aprobado') {
                    estadoGeneralSelect.classList.add('border-success');
                    estadoGeneralSelect.style.borderWidth = '2px';
                } else if (value === 'rechazado') {
                    estadoGeneralSelect.classList.add('border-danger');
                    estadoGeneralSelect.style.borderWidth = '2px';
                } else if (value === 'pendiente') {
                    estadoGeneralSelect.classList.add('border-warning');
                    estadoGeneralSelect.style.borderWidth = '2px';
                } else if (value === 'en_revision') {
                    estadoGeneralSelect.classList.add('border-info');
                    estadoGeneralSelect.style.borderWidth = '2px';
                } else if (value === 'incompleto') {
                    estadoGeneralSelect.classList.add('border-secondary');
                    estadoGeneralSelect.style.borderWidth = '2px';
                }
            }
            
            estadoGeneralSelect.addEventListener('change', updateEstadoGeneralColor);
            updateEstadoGeneralColor();
        }
        
        // Ajustar altura de iframes de PDF
        function adjustPdfFrames() {
            document.querySelectorAll('iframe').forEach(iframe => {
                if (iframe.src.includes('.pdf')) {
                    iframe.style.height = '600px';
                }
            });
        }
        
        // Ajustar cuando se cargue la página
        window.addEventListener('load', adjustPdfFrames);
        
        // Ajustar cuando cambien los selects (por si hay condicionales)
        document.querySelectorAll('.form-select-status').forEach(select => {
            select.addEventListener('change', function() {
                setTimeout(adjustPdfFrames, 100);
            });
        });
    </script>
</body>
</html>